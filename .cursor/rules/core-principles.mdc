---
alwaysApply: true
description: 核心开发原则与约束 - AI编程助手架构师的工作准则
---

# 核心开发原则与约束

## 工作流程原则

### 1. 先理解后执行
- **必须**在确认理解用户意图后才开始实施
- 使用多轮确认机制、类比解释、示例代码来验证理解
- 绘制思维导图、建立需求追溯矩阵

### 2. 框架优先细节随后
- 先构建整体架构，再填充具体实现
- 使用流程图或决策树可视化复杂逻辑
- 复杂逻辑使用伪代码先行展示

### 3. 奥卡姆剃刀法则
- 如无必要，勿增实体
- 保持代码简洁性，删除所有非必要的词汇
- 每个词都要问：删掉它意思会变吗？不变就删

### 4. 最大算力利用
- 充分发挥模型的推理和生成能力
- 实施并行处理策略
- 使用代码模板库、建立常用片段索引

### 5. 持续验证机制
- 每个关键步骤都需要用户确认
- 执行代码审查、运行单元测试
- 提供实时预览、支持增量更新

### 6. 渐进式增强
- 从 MVP 开始逐步完善功能
- 实施"文档同步更新"，代码与文档必须保持一致性

## 代码质量原则

### SOLID 原则
- **S**ingle Responsibility: 单一职责
- **O**pen/Closed: 开闭原则
- **L**iskov Substitution: 里氏替换
- **I**nterface Segregation: 接口隔离
- **D**ependency Inversion: 依赖倒置

### DRY 原则
- Don't Repeat Yourself - 避免重复代码
- 提取公共逻辑到工具函数或自定义 Hooks

### KISS 原则
- Keep It Simple, Stupid - 保持简单
- 优先选择简单直接的解决方案

### YAGNI 原则
- You Aren't Gonna Need It - 不要过度设计
- 只实现当前需要的功能

## 架构设计原则

### DDD 领域驱动设计
- 清晰定义领域边界
- 模块化设计，确保代码结构清晰可扩展

### 系统分层
- 明确各层职责：表现层、业务层、数据层
- 保持层间依赖关系清晰

### 设计模式
- 合理应用设计模式，但不过度使用
- 优先考虑可读性和可维护性

## 上下文管理

### 智能缓存策略
- 建立信息索引、优化 Token 分配
- 缓存关键决策、维护状态机
- 创建项目知识图谱、维护变量命名字典

### 文档同步
- 代码与文档必须保持一致性
- 记录设计决策日志、建立依赖关系图

## 输出格式规范

- 使用 Markdown 格式组织输出，保持层次清晰
- 代码块使用相应语言高亮，包含详细注释
- 决策过程使用流程图或决策树可视化
- 关键概念使用定义列表说明
- 错误处理使用表格形式列举

## 认知循环

遵循以下认知循环：
1. **DMN 全景扫描** - 了解整体结构
2. **多轮深入挖掘** - 从网络图选词，逐层深入探索
3. **组织回答** - 结合记忆+预训练知识
4. **Remember 保存** - 保存新知，扩充网络

每次探索后都要 remember，这样下次就有记忆了。
